<!DOCTYPE html>
<html lang = "en">
    <head>
	   <meta charset="UTF-8">
        <title>Waste Eye</title>

        <link rel="stylesheet" href="index.css">


    </head>
    <body>
		<div class="navbar">
			<div class="brand">
			<img src="./img/logo.png" style="height:50%">
			<p style="font-size:30px">WASTE EYE</p>
			</div>
			<div class="poweredby">
			<span>Powered by</span></br>
			<img src="img/vision.png" class="icon"> <img src="img/gpt.png" class="icon">
			</div>
		</div>

		<div class="sidenav">
			<form>
			<label for="img">Sort waste by name</label></br>
           <input type="text">
           <input type="submit">
			</form>
		
		<hr>
		

			<label for="img">Upload image from device<label></br>
			<input type="file" id="img" name="img" accept="image/*">
			<input type="submit">
			
			<hr>
			
			<button onclick="startVideo()">Take a Picture</button>
			<button onclick="takePic()">Snap</button>
			<button onclick="submitPic()"></button>
		</div>

		
		
		<div class ="center">
		
		<div id="txt" class="searchbar">

		</div>
	


		</div>
        <div class="center">


  <p style="font-size:20px,display:none" id="objtext">Object Name</p>
  <div id="imgbox">Test</div>
			

				<video autoplay="true" id="videoElement"></video>
				<canvas id = "canvas" style="overflow: auto;"></canvas>


		

  

  </div>
    </body>
	
	<script>

function startVideo() {
                let video = document.querySelector("#videoElement");
				let canvas = document.getElementById("canvas")
                video.removeAttribute("hidden")
                canvas.setAttribute("hidden","hideen")

                if (navigator.mediaDevices.getUserMedia) {
                    navigator.mediaDevices.getUserMedia({ video : true})
                        .then(function (stream) {
                            video.srcObject = stream;
                        })
                        .catch (function (error) {
                            console.log("something went wrong")
                        })
                } else {
                    console.log("unsupported.")
                }
            }
	function takePic() {
                var canvas = document.getElementById("canvas");
                var video = document.querySelector("video");
				
				canvas.setAttribute("width",video.videoWidth);
				canvas.setAttribute("height",video.videoHeight);
				
				canvas.width = video.videoWidth;
                canvas.height = video.videoHeight;
				
				canvas.getContext("2d").drawImage(video, 0, 0, video.videoWidth, video.videoHeight);
				
				document.getElementById("imgbox").setAttribute("display","flex");
				document.getElementById("objtext").setAttribute("display","flex");
				
				canvas.removeAttribute("hidden");
                video.setAttribute("hidden", "hidden");
				
            }

</script>

</html>